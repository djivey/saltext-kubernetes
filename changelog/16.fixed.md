Fixed state module idempotency by using Kubernetes `patch` APIs to apply only necessary changes when detected. Added a `replace` argument to present functions to force object replacement when needed. Also fixed general idempotency issues in absent functions.
